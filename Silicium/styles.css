:root{
  --bg1:#e6e7ea;
  --bg2:#0b0b0f;
  --card-bg: rgba(255,255,255,0.03);
  --muted: rgba(255,255,255,0.55);
  --accent: #7afcff;
  --glass: rgba(255,255,255,0.04);
  --radius:14px;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color-scheme: dark;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(135deg,var(--bg1) 0%, #c8c9cc 20%, #6b6c70 50%, var(--bg2) 100%);background-attachment:fixed}
.app{display:flex;height:100vh;gap:24px;padding:28px}

/* Sidebar */
.sidebar{
  width:320px;
  background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));
  border-radius:var(--radius);
  padding:18px;
  display:flex;flex-direction:column;gap:12px;backdrop-filter: blur(6px);
  box-shadow: 0 8px 30px rgba(2,6,23,0.45), inset 0 1px 0 rgba(255,255,255,0.02);
}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#5b8cff);display:flex;align-items:center;justify-content:center;font-weight:700;color:#021;box-shadow:0 6px 18px rgba(122,252,255,0.12)}
.brand h1{font-size:18px;margin:0;color:#fff}

/* lists */
.list{list-style:none;margin:8px 0;padding:0;overflow:auto;max-height:36vh}
.list li{padding:10px;border-radius:10px;margin-bottom:8px;cursor:pointer;color:var(--muted)}
.list li.active{background:linear-gradient(90deg, rgba(122,252,255,0.06), rgba(91,140,255,0.03));color:#fff;box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02)}

/* chat area */
.chat-area{flex:1;display:flex;flex-direction:column;border-radius:var(--radius);overflow:hidden;background:transparent}
.chat-header{display:flex;justify-content:space-between;align-items:center;padding:18px;border-radius:12px;color:#fff}
#project-title{font-size:18px;font-weight:600}
.messages{flex:1;padding:22px;display:flex;flex-direction:column;gap:12px;overflow:auto;scrollbar-width:thin;scrollbar-color:rgba(255,255,255,0.06) transparent}
.msg{max-width:75%;padding:12px;border-radius:12px;background:var(--card-bg);color:#fff;backdrop-filter:blur(4px);position:relative}
.msg.user{align-self:flex-end;background:linear-gradient(90deg, rgba(122,252,255,0.06), rgba(91,140,255,0.03));color:#001}
.msg.assistant{align-self:flex-start;background:rgba(0,0,0,0.35);color:#e8fdfd}
.msg.stale{opacity:0.6;filter:grayscale(30%);}

/* small controls on messages */
.msg .msg-meta{font-size:12px;color:var(--muted);margin-top:6px;display:flex;gap:8px;align-items:center}
.edit-btn, .regen-btn{
  background:transparent;border:none;color:var(--muted);cursor:pointer;padding:6px;border-radius:6px;font-size:13px
}
.edit-btn:hover, .regen-btn:hover{color:#fff}

/* centered composer for new chats */
.composer{display:flex;gap:12px;padding:16px;border-top:1px solid rgba(255,255,255,0.03);align-items:center;background:linear-gradient(180deg, rgba(0,0,0,0.05), transparent); transition: all 240ms ease;}
.composer.centered{ position:absolute;
    left:61%;
    top:50%; 
    transform:translate(-50%,-50%);
    width:min(860px,86%); 
    max-width:1000px;
    padding:22px; 
    border-radius:20px;
    background:linear-gradient(180deg, rgba(12,12,14,0.6), rgba(12,12,14,0.35));
    box-shadow:0 18px 60px rgba(2,6,23,0.6);
    z-index:40; 
    border:1px solid rgba(255,255,255,0.02); }
/* ...existing code... */
#prompt{flex:1;padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:#fff;resize:none;outline:none;font-size:15px}
.primary{background:linear-gradient(90deg,var(--accent),#5b8cff);border:none;padding:10px 16px;border-radius:10px;color:#001;font-weight:700;cursor:pointer}
.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px 12px;border-radius:10px;color:var(--muted);cursor:pointer}
.icon-btn{background:transparent;border:none;color:var(--muted);font-size:20px;cursor:pointer}

/* modal */
.modal.hidden{display:none}
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.7));z-index:100}
.modal-panel{width:min(680px,92%);background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.35));padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.02)}
.modal-header h3{margin:0;color:#fff}
.modal-body{margin:12px 0;color:var(--muted)}
.modal-actions{display:flex;gap:8px;justify-content:flex-end}
.modal-actions button{padding:8px 12px;border-radius:10px;border:none;cursor:pointer}
.modal-actions .btn-primary{background:linear-gradient(90deg,var(--accent),#5b8cff);color:#001}
.modal-actions .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}

/* small screens */
@media (max-width:900px){
  .sidebar{display:none}
  .app{padding:10px}
  .composer.centered{top:55%}
}